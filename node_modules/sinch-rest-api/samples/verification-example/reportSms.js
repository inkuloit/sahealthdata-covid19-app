var sinchApi = require('sinch-rest-api')(require('./credentials.json'));

var number, code;
if(process.argv.length > 3) {
    number = process.argv[2];
    codeInput = process.argv[3];
}
else {
    console.error("Pass phone number as first parameter, OTP as second parameter");
    return;
}

var consoleOut = function(result) { console.log(result); }

sinchApi.verification.reportVerification({"number": number, method: "sms", "sms": {"code": codeInput}})
	.then(consoleOut)
	.fail(consoleOut)